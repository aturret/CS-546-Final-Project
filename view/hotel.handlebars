{{!--

hotel_photo: the first photo of the Pictures attribute of the hotel
hotel book button: You can modify the reletive address for your own purpose

--}}

{{#if error}}
<div class="error">
    <p>Error code {{statusCode}}: {{error}}</p>
</div>
{{/if}}
<h2>{{hotelName}}</h2>
<div class="hotelInfo">
    <div class="hotelBasicInfo">
        <div class="hotelPhoto"><img src="{{hotelPhoto}}"></div>
        <div class="hotelRating">
            <p>Rating: {{hotelRating}}</p>
        </div>
    </div>
    <div class="hotelIntro">
        <div class="hotelAddress">
            <p>Address: {{hotelAddress}}</p>
        </div>
        <div class="hotelContacts">
            <p>Contacts: Phone: {{hotelPhone}} Email: {{hotelEmail}}</p>
        </div>
    </div>
    {{#if (eq user.identity "user")}}
    <div class="booking">
        <p>Please choose the date and search if there are rooms available.</p>
        <form action="/hotel/{{hotelId}}/result" method="POST" id="registration-form" class="new-form">
            <label for="startDate" id="startDate-label">
                Start Date:
            </label>
            <input type="date" name="startDate" id="startDate"></input>
            <label for="endDate" id="endDate-label">
                End Date:
            </label>
            <input type="date" name="endDate" id="endDate"></input>
            <button type="submit">Search</button>
        </form>
    </div>
    {{/if}}
    {{#if (and (eq user.identity "manager") (eq user.hotel hotelId))}}
    <div class="edit">
        <button class="editHotelInfo">Edit Hotel Basic Info</button>
        <div hidden="true" class="hotelInfoEdit">
            <form action="/room" method="POST" id="registration-form" class="new-form">
                <input type="text" name="hotelState" id="hotelState" placeholder="State"></input>
                <button type="submit">Submit Info Change</button>
            </form>
        </div>
        <button class="AddHotelRoom">Edit Hotel Rooms</button>
    </div>
    {{/if}}
    <div>

    </div>
</div>
<div class="reviewResult">
    <ol>
        {{#each reviews}}
        <li>
            <div class="reviewItem">
                <div class="reviewUserItem">
                    <div class="reviewUserPhoto">{{userAvatar}}</div>
                </div>
                <div class="reviewContentItem">
                    <div class="reviewTitle"><a href="/reviews/{{reviewId}}">{{reviewTitle}}</a></div>
                    <div class="reviewRating">
                        <p>{{reviewRating}}</p>
                    </div>
                    <div class="reviewComment">
                        <p>{{reviewComment}}</p>
                    </div>
                </div>
                {{#if managerReply}}
                <div class="managerReply">
                    <p>Manager reply: {{managerReply}}</p>
                </div>
                {{/if}}
                {{#if managerReplyWindow}}
                <div class="managerReplyWindow">
                    <form action="/reviews/{{reviewId}}" method="POST">
                        <textarea name="managerReply" placeholder="Reply to this review"></textarea>
                        <button type="submit">Submit</button>
                    </form>
                </div>
                {{/if}}
            </div>
        </li>
        {{/each}}
    </ol>
</div>
<div class="error" id="client">
    <p id="client-error"></p>
</div>
<a href="/register">Click here to register!</a>