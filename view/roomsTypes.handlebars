{{!--



--}}

{{#if error}}
<div class="error">
    <p>Error code {{statusCode}}: {{error}}</p>
</div>
{{/if}}
<h2>All rooms of the hotel</h2>
<div class="searchResult">
    <ol>
        {{#each roomTypes}}
        <li>
            <div class="searchResultItem">
                <div class="roomTypePictures">
                    {{#each roomTypes.pictures}}
                    <img src="{{roomTypes.pictures}}" alt="roomTypePicture">
                    {{/each}}
                </div>
                <div class="roomTypeName">
                    <p>{{roomTypes.name}}</p>
                </div>                
                <div class="roomTypePrice">
                    <p>{{roomTypes.roomTypePrice}}</p>
                </div>
            </div>
            {{#if (eq rooms.roomStatus "available")}}
            <div class="deleteRoom">
                <form action="/hotel/{{hotelId}}/room/{{rooms.roomId}}/delete" method="DELETE">
                    <button type="submit">Delete</button>
                </form>
            </div>
            <div class="editRoom">
                <form action="/hotel/{{hotelId}}/room/{{rooms.roomId}}/edit" method="PATCH" id="editRoom-form"
                    class="new-form">
                    <label for="roomNumberInput" id="roomNumberInput-label">
                        Room Number:
                    </label>
                    <input type="text" name="roomNumberInput" id="roomNumberInput">
                    <label for="roomTypeInput" id="roomTypeInput-label">
                        Room Type:
                    </label>
                    <select name="roomTypeInput" id="roomTypeInput">
                        {{#each roomTypes}}
                        <option value="{{roomTypes.typeName}}">{{roomTypes.typeName}}</option>
                        {{/each}}
                    </select>
                    <button type="submit" id="editRoom-button">Edit</button>
                </form>
            </div>
            {{/if}}
        </li>
        {{/each}}
    </ol>
    <div class="addNewRoom">
        <form action="/hotel/{{hotelId}}/room/add" method="POST" id="addNewRoom-form" class="new-form">
            <label for="roomNumberInput" id="roomNumberInput-label">
                Room Number:
            </label>
            <input type="text" name="roomNumberInput" id="roomNumberInput">
            <label for="roomTypeInput" id="roomTypeInput-label">
                Room Type:
            </label>
            <input type="text" name="roomTypeInput" id="roomTypeInput">
            <select name="roomTypeInput" id="roomTypeInput">
                {{#each roomTypes}}
                <option value="{{roomTypes.typeName}}">{{roomTypes.typeName}}</option>
                {{/each}}
            </select>
            <button type="submit" id="addNewRoom-button">Add</button>
        </form>
    </div>
</div>
<div class="error" id="client">
    <p id="client-error"></p>
</div>
{{#if (eq user.identity "guest")}}
<div class="new-user">
    <p>You can <a href="/register">register</a> or <a href="/login">login</a> first.</p>
</div>
{{/if}}