{{!--

roomTypeDeletableStatus: Please pass a roomStatus variable when rendering this template. 
This variable means if a roomType is deletable or not.
You can add a new key-value pair to the roomTypes collection, or you can just calculate its availability and set it as a new variable. 

--}}

{{#if error}}
<div class="error">
    <p>Error code {{statusCode}}: {{error}}</p>
</div>
{{/if}}
<h2>All rooms of the hotel</h2>
<div class="searchResult">
    <ol>
        {{#each roomTypes}}
        <li>
            <div class="searchResultItem">
                <div class="roomTypePictures">
                    {{#each this.pictures}}
                    <img src="{{this.pictures}}" alt="roomTypePicture">
                    {{/each}}
                </div>
                <div class="roomTypeName">
                    <p>{{this.name}}</p>
                </div>                
                <div class="roomTypePrice">
                    <p>{{this.roomTypePrice}}</p>
                </div>
            </div>            
        {{/each}}
    </ol>
    <div class="addNewRoomType">
        <form action="/hotel/{{hotelId}}/roomType" method="POST" id="addNewRoom-form" class="my-form">
            <label for="newRoomTypeName" id="newRoomTypeName-label">
                Room Type:
            </label>
            <input type="text" name="newRoomTypeName" id="newRoomTypeName">
            <label for="newRoomTypePrice" id="newRoomTypePrice-label">
                Room Price:
            </label>
            <input type="number" name="newRoomTypePrice" id="newRoomTypePrice">
            <label for="newRoomTypePictures" id="newRoomTypePictures-label">
                Room Pictures:
            </label>
            <input type="file" name="newRoomTypePictures" id="newRoomTypePictures">
            <input type="hidden" name="hotelId" value="{{hotelId}}">
            <button type="submit" id="addNewRoom-button">Add</button>
        </form>
    </div>
</div>
<div class="error" id="client">
    <p id="client-error"></p>
</div>